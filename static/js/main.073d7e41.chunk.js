(this.webpackJsonpsamura=this.webpackJsonpsamura||[]).push([[0],{122:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(36),a=n(3),c="SEND-MESSAGE",s={dialogs:[{id:1,name:"Vlados"},{id:2,name:"Misha"}],messages:[{id:1,message:"Hello hi"},{id:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0432\u043b\u0430\u0434"}]},u=function(e){return{type:c,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=e.messages,u=n[n.length-1],o=u.id||1;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(n),[{id:++o,message:t.message}])});default:return e}}},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},19:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return b}));var r=n(3),a=n(127),c=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"98066f73-404d-4706-9089-8e2198c6a16a"}}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},u=function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},o=function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},i=function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},l=function(){return c.get("auth/me").then((function(e){return e.data}))},f=function(e){return c.get("profile/status/".concat(e)).then((function(e){return e.data}))},d=function(e){return c.put("profile/status",{status:e}).then((function(e){return e.data}))},j=function(e){return c.post("auth/login",Object(r.a)({},e)).then((function(e){return e.data}))},b=function(){return c.delete("auth/login").then((function(e){return e.data}))}},287:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(61),u=n.n(s),o=(n(161),n(27)),i=n(28),l=n(30),f=n(29),d=(n(162),n(163),n(20));var j=function(){return Object(r.jsxs)("nav",{className:"nav",children:[Object(r.jsx)("div",{className:"item",children:Object(r.jsx)(d.b,{to:"/profile",children:"Profile"})}),Object(r.jsx)("div",{className:"item",children:Object(r.jsx)(d.b,{to:"/dialogs",children:"Dialogs"})}),Object(r.jsx)("div",{className:"item",children:Object(r.jsx)(d.b,{to:"/users",children:"Users"})})]})},b=n(9),p=n.n(b),g=n(14),O=n(36),h=n(3),v=n(19),m=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(h.a)(Object(h.a)({},e),r):e}))},w="FOLLOW",x="UNFOLLOW",A="SET-USERS",P="CLEAR-USERS",N="SET-CURRENT-PAGE",S="SET-TOTAL-USERS-COUNT",E="SET-FETCHING-STATUS",y="SET-FOLLOWING-STATUS",C={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},k=function(e){return{type:w,userId:e}},I=function(e){return{type:x,userId:e}},U=function(e){return{type:A,users:e}},L=function(e){return{type:E,status:e}},M=function(e,t){return{type:y,status:e,userId:t}},F=function(){var e=Object(g.a)(p.a.mark((function e(t,n,r,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(M(!0,n)),e.next=4,r(n);case 4:0===e.sent.resultCode&&t(a(n)),t(M(!1,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(M(!1,n));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(h.a)(Object(h.a)({},e),{},{users:m(e.users,t.userId,"id",{followed:!0})});case x:return Object(h.a)(Object(h.a)({},e),{},{users:m(e.users,t.userId,"id",{followed:!1})});case A:return Object(h.a)(Object(h.a)({},e),{},{users:Object(O.a)(t.users)});case P:return Object(h.a)(Object(h.a)({},e),{},{users:[]});case N:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.numberPage});case S:return Object(h.a)(Object(h.a)({},e),{},{totalUsersCount:t.usersCount});case E:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.status});case y:return Object(h.a)(Object(h.a)({},e),{},{followingInProgress:t.status?[].concat(Object(O.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},T=n(15),z=n(39);n(186);var Y=function(e){return Object(r.jsxs)("div",{className:"users__user",children:[Object(r.jsxs)("div",{className:"user__left",children:[Object(r.jsx)("div",{className:"user__avatar",children:Object(r.jsx)(d.c,{to:"/profile/"+e.id,children:Object(r.jsx)("img",{src:null!==e.photoUrl?e.photoUrl:"data:image/png;base64,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",alt:""})})}),Object(r.jsx)("div",{className:"user__follow",children:e.followed?Object(r.jsx)("button",{onClick:e.unfollow,disabled:e.followingInProgress.some((function(t){return t===e.id})),children:"Unfollow"}):Object(r.jsx)("button",{onClick:e.follow,disabled:e.followingInProgress.some((function(t){return t===e.id})),children:"Follow"})})]}),Object(r.jsxs)("div",{className:"user__right",children:[Object(r.jsxs)("div",{className:"user__info",children:[Object(r.jsx)("div",{className:"user__name",children:e.userName}),Object(r.jsxs)("div",{className:"user__location",children:["props.location.country",", ","props.location.city"]})]}),Object(r.jsx)("div",{className:"user__signature",children:Object(r.jsx)("p",{children:e.signature})})]})]})},q=(n(187),n(125)),B=function(e){for(var t=e.totalUsersCount,n=e.pageSize,c=e.currentPage,s=e.onPageChanged,u=e.portionPage,o=void 0===u?10:u,i=(Object(z.a)(e,["totalUsersCount","pageSize","currentPage","onPageChanged","portionPage"]),Math.ceil(t/n)),l=[],f=1;f<=i;f++)l.push(f);var d=Math.ceil(i/o),j=Object(a.useState)(1),b=Object(q.a)(j,2),p=b[0],g=b[1],O=(p-1)*o+1,h=p*o;return Object(r.jsxs)("div",{className:"pagination",children:[p>1&&Object(r.jsx)("button",{onClick:function(){g(p-1)},children:"Prev"}),l.filter((function(e){return e>=O&&e<=h&&e})).map((function(e){return Object(r.jsx)("span",{className:c===e?"active":null,onClick:function(){s(e)},children:e},e)})),p<d&&Object(r.jsx)("button",{onClick:function(){g(p+1)},children:"Next"})]})},R=function(e){var t=e.totalUsersCount,n=e.pageSize,a=e.users,c=e.onPageChanged,s=e.currentPage,u=e.follow,o=e.unfollow,i=e.followingInProgress,l=(Object(z.a)(e,["totalUsersCount","pageSize","users","onPageChanged","currentPage","follow","unfollow","followingInProgress"]),function(e){return e.map((function(e){return Object(r.jsx)(Y,{followed:e.followed,userName:e.name,photoUrl:e.photos.small,signature:e.status,id:e.id,follow:function(){u(e.id,"follow")},unfollow:function(){o(e.id,"unfollow")},followingInProgress:i},e.id)}))}(a));return Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)(B,{totalUsersCount:t,pageSize:n,onPageChanged:c,currentPage:s}),l]})},X=n(64),G=(n(188),function(e){return e.usersPage.users}),J=function(e){return e.usersPage.pageSize},V=function(e){return e.usersPage.totalUsersCount},Z=function(e){return e.usersPage.currentPage},H=function(e){return e.usersPage.isFetching},K=function(e){return e.usersPage.followingInProgress},Q=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).toggleFollow=function(t,n){"follow"===n?e.props.follow(t):e.props.unfollow(t)},e.onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;0===this.props.users.length&&this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching&&Object(r.jsx)(X.a,{}),Object(r.jsx)(R,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.toggleFollow,unfollow:this.toggleFollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(c.a.Component),W=Object(T.b)((function(e){return{users:G(e),pageSize:J(e),totalUsersCount:V(e),currentPage:Z(e),isFetching:H(e),followingInProgress:K(e)}}),{follow:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(n,e,v.a,k);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(n,e,v.h,I);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(g.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(L(!0)),r({type:N,numberPage:e}),n.next=4,Object(v.e)(e,t);case 4:a=n.sent,r(U(a.items)),r((c=a.totalCount,{type:S,usersCount:c})),r(L(!1));case 8:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()}})(Q),_=n(11);n(189);var $=function(e){return Object(r.jsx)("header",{className:"Header",children:e.isAuth?Object(r.jsxs)("div",{className:"login",children:[" ",e.login," - ",Object(r.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(r.jsx)("div",{className:"login",children:Object(r.jsx)(d.c,{to:"/login",children:"Login"})})})},ee=n(52),te="SET-USER-DATA",ne={userId:null,email:null,login:null,isAuth:!1,avatar:null},re=function(e,t,n,r,a){return{type:te,payload:{userId:e,email:t,login:n,avatar:r,isAuth:a}}},ae=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){var n,r,a,c,s,u,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)();case 2:if(0!==(n=e.sent).resultCode){e.next=12;break}return r=n.data,a=r.id,c=r.email,s=r.login,e.next=7,Object(v.c)(a);case 7:u=e.sent,o=u.photos.small,t(re(a,c,s,o,!0)),e.next=13;break;case 12:throw new Error("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(h.a)(Object(h.a)({},e),t.payload);default:return e}},se=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(r.jsx)($,Object(h.a)({},this.props))}}]),n}(c.a.Component),ue=Object(T.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth,avatar:e.auth.avatar}}),{logout:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)();case 2:0===e.sent.resultCode&&t(re(null,null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(se),oe=n(10),ie=n(123),le=n(124),fe=n(62),de=n(72),je=n(66),be=n.n(je),pe=Object(fe.a)(50),ge=Object(le.a)({form:"loginForm"})((function(e){var t=e.error,n=e.handleSubmit,a=e.submitting;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsx)(ie.a,{name:"Email",placeholder:"Email",component:de.a,type:"text",validate:[fe.b,pe]}),Object(r.jsx)(ie.a,{name:"Password",placeholder:"Password",component:de.a,type:"password",validate:[fe.b,pe]}),Object(r.jsx)("div",{children:t&&Object(r.jsx)("strong",{className:be.a.errorBlock,children:t})}),Object(r.jsx)("button",{type:"submit",disabled:a,children:"Submit"})]})})})),Oe=function(e){return e.isAuth?Object(r.jsx)(_.a,{to:"/profile"}):Object(r.jsx)("div",{children:Object(r.jsx)(ge,{onSubmit:function(t){e.signIn(t)},logout:e.logout})})},he=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Oe,Object(h.a)({},this.props))}}]),n}(c.a.Component),ve=Object(oe.d)(Object(T.b)((function(e){return{isAuth:e.auth.isAuth}}),{signIn:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.g)(e);case 2:0===(r=t.sent).resultCode?n(ae()):n(Object(ee.a)("loginForm",{_error:r.messages[0]}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(he),me="INITIALIZED-SUCCESS",we={initialized:!1},xe=function(){return{type:me}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(h.a)(Object(h.a)({},e),{},{initialized:!0});default:return e}},Pe=function(e){return function(t){return Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(r.jsx)(e,Object(h.a)({},t))})}},Ne=c.a.lazy((function(){return n.e(3).then(n.bind(null,296))})),Se=c.a.lazy((function(){return n.e(4).then(n.bind(null,295))})),Ee=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initializedApp?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(ue,{}),Object(r.jsx)(j,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(_.b,{path:"/profile/:userId?",render:Pe(Se)}),Object(r.jsx)(_.b,{path:"/dialogs",render:Pe(Ne)}),Object(r.jsx)(_.b,{path:"/users",render:function(){return Object(r.jsx)(W,{})}}),Object(r.jsx)(_.b,{path:"/login",render:function(){return Object(r.jsx)(ve,{})}})]})]}):Object(r.jsx)(X.a,{})}}]),n}(c.a.Component),ye=Object(oe.d)(_.f,Object(T.b)((function(e){return{initializedApp:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(ae());case 3:t(xe()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),t(xe());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}}))(Ee),Ce=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,294)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ke=n(92),Ie=n(122),Ue=n(126),Le=n(130),Me=Object(oe.c)({profilePage:ke.b,dialogsPage:Ie.a,usersPage:D,auth:ce,form:Ue.a,app:Ae}),Fe=Object(oe.e)(Me,Object(oe.a)(Le.a));u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{children:Object(r.jsx)(T.a,{store:Fe,children:Object(r.jsx)(ye,{})})})}),document.getElementById("root")),Ce()},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e||"number"===typeof e?void 0:"Required"},a=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}},64:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/preloader.e3e722d7.gif");t.a=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:""})})}},66:function(e,t,n){e.exports={error:"formControls_error__2Dway",errorBlock:"formControls_errorBlock__3taMF"}},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(3),a=n(39),c=n(1),s=n(0),u=n.n(s),o=n(66),i=n.n(o),l=function(e){var t=e.input,n=e.el,s=e.meta,o=s.touched,l=s.error,f=(s.warning,Object(a.a)(e,["input","el","meta"])),d=o&&l;return Object(c.jsx)("div",{className:d?i.a.error:null,children:u.a.createElement(n,Object(r.a)(Object(r.a)({},t),f))})},f=function(e){return Object(c.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{el:"textarea"}))},d=function(e){return Object(c.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{el:"input"}))}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return h}));var r=n(9),a=n.n(r),c=n(14),s=n(36),u=n(3),o=n(19),i="ADD-POST",l="SET-USER-PROFILE",f="SET-USER-STATUS",d="CHANGE-USER-STATUS",j={posts:[{id:1,message:"Hi, my friend!"},{id:2,message:"Hi, my friend!2"},{id:3,message:"Hi, my friend!3"},{id:4,message:"Hi, my friend!4"}],profile:null,status:null},b=function(e){return{type:i,message:e}},p=function(e){return{type:f,status:e}},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.c)(e);case 2:r=t.sent,n({type:l,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.d)(e);case 2:r=t.sent,n(p(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.i)(e);case 2:0===t.sent.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=e.posts,r=n[n.length-1],a=r.id||1;return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(s.a)(n),[{id:++a,message:t.message}]),newPostText:""});case l:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case f:case d:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});default:return e}}}},[[287,1,2]]]);
//# sourceMappingURL=main.073d7e41.chunk.js.map